RewriteEngine On
RewriteBase /

# Configuración para PHP y PDF
<Files "*.php">
    Order Allow,Deny
    Allow from all
</Files>

# Configuración MIME para PDF
AddType application/pdf .pdf

# Configuración de headers para PDF
<FilesMatch "\.(pdf)$">
    Header set Content-Type application/pdf
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
</FilesMatch>

# Permitir acceso a archivos PHP específicos de API y descarga
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} \.(php)$ [NC]
RewriteRule ^.*$ - [L]

# Redirigir todo lo demás al index.html para React Router
RewriteRule ^index\.html$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]