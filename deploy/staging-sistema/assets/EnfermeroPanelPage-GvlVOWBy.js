import{r as d,j as e,I as r}from"./vendor-B5yQt2qK.js";import{S as D}from"./Spinner-4kDqlTQV.js";import{B as $}from"./examenes-laboratorio-crud-BJk1fG4Z.js";function q(){const[t,s]=d.useState([]),[c,o]=d.useState({}),[a,n]=d.useState(!0),[x,u]=d.useState(null),[i,h]=d.useState(null),[p,y]=d.useState(null),[E,F]=d.useState(!1),[T,z]=d.useState(!1),[b,L]=d.useState(5),[k,M]=d.useState(1),[S,R]=d.useState(""),[g,w]=d.useState(""),[j,B]=d.useState(""),P=()=>{n(!0),fetch($+"api_consultas.php",{credentials:"include"}).then(l=>l.json()).then(async l=>{if(l.success){s(l.consultas);const m={};await Promise.all(l.consultas.map(async v=>{try{const A=await(await fetch($+`api_triaje.php?consulta_id=${v.id}`)).json();m[v.id]=A.success&&A.triaje?"Completado":"Pendiente"}catch{m[v.id]="Pendiente"}})),o(m)}else u(l.error||"Error al cargar consultas");n(!1)}).catch(l=>{u("Error de red"),n(!1)})};d.useEffect(()=>{P()},[]);let f=t.filter(l=>{const m=S.trim().toLowerCase();return m&&!(l.historia_clinica&&l.historia_clinica.toLowerCase().includes(m)||l.paciente_nombre&&l.paciente_nombre.toLowerCase().includes(m)||l.paciente_apellido&&l.paciente_apellido.toLowerCase().includes(m)||l.medico_nombre&&l.medico_nombre.toLowerCase().includes(m))?!1:!g&&!j?!0:!(!l.fecha||g&&l.fecha<g||j&&l.fecha>j)});f=[...f].sort((l,m)=>{const v=new Date(`${l.fecha}T${l.hora}`);return new Date(`${m.fecha}T${m.hora}`)-v});const C=f.length,G=Math.ceil(C/b),_=(k-1)*b,N=_+b,H=f.slice(_,N);return{consultas:t,triajeStatus:c,loading:a,error:x,triajeActual:i,setTriajeActual:h,triajeData:p,setTriajeData:y,guardando:E,setGuardando:F,cargandoTriaje:T,setCargandoTriaje:z,rowsPerPage:b,setRowsPerPage:L,page:k,setPage:M,busqueda:S,setBusqueda:R,fechaDesde:g,setFechaDesde:w,fechaHasta:j,setFechaHasta:B,recargarConsultas:P,consultasFiltradas:f,consultasPagina:H,totalRows:C,totalPages:G,startIdx:_,endIdx:N}}function U({totalRows:t,triajeStatus:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl",children:e.jsx(r,{iconName:"People",className:"text-2xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsx("div",{className:"text-sm text-emerald-100",children:"Total Pacientes"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl",children:e.jsx(r,{iconName:"Clock",className:"text-2xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Object.values(s).filter(c=>c==="Pendiente").length}),e.jsx("div",{className:"text-sm text-yellow-100",children:"Triajes Pendientes"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl",children:e.jsx(r,{iconName:"CheckMark",className:"text-2xl"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Object.values(s).filter(c=>c==="Completado").length}),e.jsx("div",{className:"text-sm text-blue-100",children:"Triajes Completados"})]})]})})]})}function I({busqueda:t,setBusqueda:s,fechaDesde:c,setFechaDesde:o,fechaHasta:a,setFechaHasta:n,rowsPerPage:x,setRowsPerPage:u,setPage:i}){return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(r,{iconName:"Filter",className:"text-xl text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filtros de búsqueda"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(r,{iconName:"Search",className:"text-lg text-gray-400"})}),e.jsx("input",{type:"text",value:t,onChange:h=>{s(h.target.value),i(1)},placeholder:"Buscar paciente, médico...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(r,{iconName:"Calendar",className:"text-lg text-gray-400"})}),e.jsx("input",{type:"date",value:c,onChange:h=>{o(h.target.value),i(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300",placeholder:"Fecha desde"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(r,{iconName:"Calendar",className:"text-lg text-gray-400"})}),e.jsx("input",{type:"date",value:a,onChange:h=>{n(h.target.value),i(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300",placeholder:"Fecha hasta"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(r,{iconName:"NumberedList",className:"text-lg text-gray-400"})}),e.jsxs("select",{value:x,onChange:h=>{u(Number(h.target.value)),i(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300 appearance-none bg-white",children:[e.jsx("option",{value:5,children:"5 por página"}),e.jsx("option",{value:10,children:"10 por página"}),e.jsx("option",{value:25,children:"25 por página"})]})]})]}),(t||c||a)&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>{s(""),o(""),n(""),i(1)},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors duration-300",children:[e.jsx(r,{iconName:"Clear",className:"text-lg"}),e.jsx("span",{children:"Limpiar filtros"})]})})]})}function J({consultasPagina:t,triajeStatus:s,onRealizarTriaje:c}){const o=[...t].sort((a,n)=>{const x=new Date(`${a.fecha}T${a.hora}`);return new Date(`${n.fecha}T${n.hora}`)-x});return e.jsx("div",{className:"hidden lg:block",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Historia Clínica"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Paciente"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Médico"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Fecha y Hora"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Acción"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{iconName:"NumberField",className:"text-lg text-gray-400"}),e.jsx("span",{className:"font-mono text-sm",children:a.historia_clinica||"-"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-emerald-100 rounded-full",children:e.jsx(r,{iconName:"Contact",className:"text-lg text-emerald-600"})}),e.jsx("div",{children:e.jsxs("div",{className:"font-semibold text-gray-800",children:[a.paciente_nombre," ",a.paciente_apellido]})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{iconName:"Health",className:"text-lg text-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[a.medico_nombre," ",a.medico_apellido||""]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{iconName:"Calendar",className:"text-lg text-gray-400"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-800",children:a.fecha}),e.jsx("div",{className:"text-gray-500",children:a.hora})]})]})}),e.jsx("td",{className:"px-6 py-4",children:s[a.id]==="Completado"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx(r,{iconName:"CheckMark",className:"text-sm"}),"Completado"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(r,{iconName:"Clock",className:"text-sm"}),"Pendiente"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",onClick:()=>c(a),children:[e.jsx(r,{iconName:"Health",className:"text-lg"}),"Realizar Triaje"]})})]},a.id))})]})})}function K({consultasPagina:t,triajeStatus:s,onRealizarTriaje:c}){const o=[...t].sort((a,n)=>{const x=new Date(`${a.fecha}T${a.hora}`);return new Date(`${n.fecha}T${n.hora}`)-x});return e.jsx("div",{className:"lg:hidden p-4 space-y-4",children:o.map(a=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-emerald-100 rounded-full",children:e.jsx(r,{iconName:"Contact",className:"text-xl text-emerald-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-800 text-lg",children:[a.paciente_nombre," ",a.paciente_apellido]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(r,{iconName:"NumberField",className:"text-sm"}),"HC: ",a.historia_clinica||"N/A"]})]})]}),s[a.id]==="Completado"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(r,{iconName:"CheckMark",className:"text-xs"}),"Completado"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(r,{iconName:"Clock",className:"text-xs"}),"Pendiente"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{iconName:"Health",className:"text-lg text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Médico"}),e.jsxs("div",{className:"text-sm text-gray-800",children:[a.medico_nombre," ",a.medico_apellido||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{iconName:"Calendar",className:"text-lg text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Fecha y Hora"}),e.jsxs("div",{className:"text-sm text-gray-800",children:[a.fecha," - ",a.hora]})]})]})]}),e.jsxs("button",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-700 transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl",onClick:()=>c(a),children:[e.jsx(r,{iconName:"Health",className:"text-xl"}),"Realizar Triaje"]})]},a.id))})}function Q({totalRows:t,totalPages:s,startIdx:c,endIdx:o,page:a,setPage:n}){return s<=1?null:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",c+1," - ",Math.min(o,t)," de ",t," pacientes"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>n(a-1),disabled:a===1,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 rounded-xl transition-all duration-300 disabled:cursor-not-allowed",children:[e.jsx(r,{iconName:"ChevronLeft",className:"text-lg"}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"px-3 py-2 text-sm font-medium text-gray-600",children:["Página ",a," de ",s]})}),e.jsxs("button",{onClick:()=>n(a+1),disabled:a===s,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 rounded-xl transition-all duration-300 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),e.jsx(r,{iconName:"ChevronRight",className:"text-lg"})]})]})]})})}function V({consulta:t,initialData:s,onGuardar:c,onCancelar:o}){const[a,n]=d.useState({presion_arterial:"",frecuencia_cardiaca:"",frecuencia_respiratoria:"",temperatura:"",saturacion:"",peso:"",talla:"",motivo:"",sintomas:"",nivel_conciencia:"Alerta",hidratacion:"Normal",coloracion:"Normal",clasificacion:"No urgente"});d.useEffect(()=>{s&&n({presion_arterial:s.presion_arterial||"",frecuencia_cardiaca:s.frecuencia_cardiaca||"",frecuencia_respiratoria:s.frecuencia_respiratoria||"",temperatura:s.temperatura||"",saturacion:s.saturacion||"",peso:s.peso||"",talla:s.talla||"",motivo:s.motivo||"",sintomas:s.sintomas||"",nivel_conciencia:s.nivel_conciencia||"Alerta",hidratacion:s.hidratacion||"Normal",coloracion:s.coloracion||"Normal",clasificacion:s.clasificacion||"No urgente"})},[s]);const[x,u]=d.useState(!1),i=p=>{n({...a,[p.target.name]:p.target.value})},h=p=>{p.preventDefault(),u(!0);const y={...a,clasificacion:a.clasificacion&&a.clasificacion.trim()?a.clasificacion:"No urgente"};c(y),u(!1)};return e.jsxs("form",{onSubmit:h,className:"space-y-3 p-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{name:"presion_arterial",value:a.presion_arterial,onChange:i,placeholder:"Presión arterial (mmHg)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"frecuencia_cardiaca",value:a.frecuencia_cardiaca,onChange:i,placeholder:"Frecuencia cardíaca (lpm)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"frecuencia_respiratoria",value:a.frecuencia_respiratoria,onChange:i,placeholder:"Frecuencia respiratoria (rpm)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"temperatura",value:a.temperatura,onChange:i,placeholder:"Temperatura (°C)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"saturacion",value:a.saturacion,onChange:i,placeholder:"Saturación O₂ (%)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"peso",value:a.peso,onChange:i,placeholder:"Peso (kg)",className:"border rounded px-2 py-1"}),e.jsx("input",{name:"talla",value:a.talla,onChange:i,placeholder:"Talla (cm)",className:"border rounded px-2 py-1"})]}),e.jsx("textarea",{name:"motivo",value:a.motivo,onChange:i,placeholder:"Motivo de consulta",className:"border rounded px-2 py-1 w-full"}),e.jsx("textarea",{name:"sintomas",value:a.sintomas,onChange:i,placeholder:"Síntomas principales",className:"border rounded px-2 py-1 w-full"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("select",{name:"nivel_conciencia",value:a.nivel_conciencia,onChange:i,className:"border rounded px-2 py-1",children:[e.jsx("option",{value:"Alerta",children:"Alerta"}),e.jsx("option",{value:"Somnoliento",children:"Somnoliento"}),e.jsx("option",{value:"Inconsciente",children:"Inconsciente"})]}),e.jsxs("select",{name:"hidratacion",value:a.hidratacion,onChange:i,className:"border rounded px-2 py-1",children:[e.jsx("option",{value:"Normal",children:"Hidratación normal"}),e.jsx("option",{value:"Deshidratado",children:"Deshidratado"})]}),e.jsxs("select",{name:"coloracion",value:a.coloracion,onChange:i,className:"border rounded px-2 py-1",children:[e.jsx("option",{value:"Normal",children:"Coloración normal"}),e.jsx("option",{value:"Cianosis",children:"Cianosis"}),e.jsx("option",{value:"Palidez",children:"Palidez"}),e.jsx("option",{value:"Ictericia",children:"Ictericia"})]})]}),e.jsxs("select",{name:"clasificacion",value:a.clasificacion,onChange:i,className:"border rounded px-2 py-1 w-full",children:[e.jsx("option",{value:"No urgente",children:"No urgente"}),e.jsx("option",{value:"Urgente",children:"Urgente"}),e.jsx("option",{value:"Emergencia",children:"Emergencia"})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[e.jsx("button",{type:"button",onClick:o,className:"bg-gray-300 px-3 py-1 rounded",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-3 py-1 rounded",disabled:x,children:"Guardar triaje"})]})]})}function W({triajeActual:t,triajeData:s,cargandoTriaje:c,guardando:o,onGuardar:a,onCancelar:n}){return t?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(r,{iconName:"Health",className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold",children:["Triaje: ",t.paciente_nombre," ",t.paciente_apellido]}),e.jsxs("p",{className:"text-emerald-100",children:["Historia Clínica: ",t.historia_clinica||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/20 rounded-xl px-3 py-2",children:[e.jsx(r,{iconName:"Calendar",className:"text-lg"}),e.jsxs("span",{children:[t.fecha," - ",t.hora]})]})]})}),e.jsx("div",{className:"p-6",children:c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-emerald-200 border-t-emerald-500 rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando datos de triaje..."})]})}):e.jsx(V,{consulta:t,initialData:s,onGuardar:a,onCancelar:n,guardando:o})})]}):null}function X(){const{triajeStatus:t,loading:s,error:c,triajeActual:o,setTriajeActual:a,triajeData:n,setTriajeData:x,guardando:u,setGuardando:i,cargandoTriaje:h,setCargandoTriaje:p,rowsPerPage:y,setRowsPerPage:E,page:F,setPage:T,busqueda:z,setBusqueda:b,fechaDesde:L,setFechaDesde:k,fechaHasta:M,setFechaHasta:S,recargarConsultas:R,consultasFiltradas:g,consultasPagina:w,totalRows:j,totalPages:B,startIdx:P,endIdx:f}=q(),C=async N=>{a(N),p(!0),x(null);try{const l=await(await fetch($+`api_triaje.php?consulta_id=${N.id}`)).json();l.success&&l.triaje&&l.triaje.datos?x(l.triaje.datos):x(null)}catch{x(null)}p(!1)},G=async N=>{i(!0);const H={consulta_id:o.id,datos:{...N,paciente_id:o.paciente_id}};try{const m=await(await fetch($+"api_triaje.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(H)})).json();m.success||alert("Error al guardar triaje: "+(m.error||"Error desconocido"))}catch{alert("Error de red al guardar triaje")}i(!1),a(null),x(null),R()},_=()=>{a(null),x(null)};return s?e.jsx(D,{message:"Cargando pacientes en triaje..."}):c?e.jsx("div",{className:"text-red-600",children:c}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{totalRows:j,triajeStatus:t}),e.jsx(I,{busqueda:z,setBusqueda:b,fechaDesde:L,setFechaDesde:k,fechaHasta:M,setFechaHasta:S,rowsPerPage:y,setRowsPerPage:E,setPage:T}),e.jsx(W,{triajeActual:o,triajeData:n,cargandoTriaje:h,guardando:u,onGuardar:G,onCancelar:_}),!o&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl text-gray-600",children:e.jsx("i",{className:"ms-Icon ms-Icon--Table"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lista de Pacientes para Triaje"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:g.length>0?`Mostrando ${w.length} de ${g.length} pacientes`:"No hay pacientes"})]})}),e.jsx("div",{className:"overflow-x-auto",children:g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gray-100 rounded-full mx-auto mb-4",children:e.jsx("i",{className:"ms-Icon ms-Icon--Health text-4xl text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay pacientes"}),e.jsx("p",{className:"text-gray-500",children:"No se encontraron pacientes pendientes de triaje"})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{consultasPagina:w,triajeStatus:t,onRealizarTriaje:C}),e.jsx(K,{consultasPagina:w,triajeStatus:t,onRealizarTriaje:C})]})})]}),!o&&e.jsx(Q,{totalRows:j,totalPages:B,startIdx:P,endIdx:f,page:F,setPage:T})]})}function Y(){const[t,s]=d.useState("triage"),c=[{key:"triage",label:"Triaje",icon:"Health",color:"emerald",description:"Evaluación inicial de pacientes"},{key:"tratamientos",label:"Tratamientos",icon:"Health",color:"blue",description:"Gestión de tratamientos"},{key:"hospitalizacion",label:"Hospitalización",icon:"Hospital",color:"purple",description:"Control de hospitalización"}],o=(a,n)=>({emerald:n?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg border-emerald-300":"bg-white text-emerald-700 border-emerald-200 hover:bg-emerald-50 hover:border-emerald-300",blue:n?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg border-blue-300":"bg-white text-blue-700 border-blue-200 hover:bg-blue-50 hover:border-blue-300",purple:n?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg border-purple-300":"bg-white text-purple-700 border-purple-200 hover:bg-purple-50 hover:border-purple-300"})[a];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-cyan-50 to-blue-50 p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 rounded-2xl p-6 sm:p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-white/20 rounded-2xl backdrop-blur-sm",children:e.jsx(r,{iconName:"Health",className:"text-3xl text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold drop-shadow-lg",children:"Panel de Enfermería"}),e.jsx("p",{className:"text-lg text-white/90 mt-1",children:"Gestión integral de cuidados médicos"})]})]})})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:c.map(a=>e.jsxs("button",{className:`group relative p-6 rounded-2xl border-2 font-semibold transition-all duration-300 transform hover:scale-[1.02] ${o(a.color,t===a.key)}`,onClick:()=>s(a.key),children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl ${t===a.key?"bg-white/20":`bg-${a.color}-100`}`,children:e.jsx(r,{iconName:a.icon,className:`text-2xl ${t===a.key?"text-white":`text-${a.color}-600`}`})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:a.label}),e.jsx("div",{className:`text-sm ${t===a.key?"text-white/80":"text-gray-600"}`,children:a.description})]})]}),t===a.key&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-white rounded-full shadow-lg flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})})]},a.key))})}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[t==="triage"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(r,{iconName:"Health",className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Control de Triaje"}),e.jsx("p",{className:"text-emerald-100",children:"Evaluación y clasificación de pacientes"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx(X,{})})]}),t==="tratamientos"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(r,{iconName:"Health",className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Tratamientos"}),e.jsx("p",{className:"text-blue-100",children:"Control y seguimiento de tratamientos"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mx-auto mb-4",children:e.jsx(r,{iconName:"Health",className:"text-4xl text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Módulo en Desarrollo"}),e.jsx("p",{className:"text-gray-600",children:"La gestión de tratamientos estará disponible próximamente"})]})})]}),t==="hospitalizacion"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(r,{iconName:"Hospital",className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Control de Hospitalización"}),e.jsx("p",{className:"text-purple-100",children:"Gestión de pacientes hospitalizados"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-purple-100 rounded-full mx-auto mb-4",children:e.jsx(r,{iconName:"Hospital",className:"text-4xl text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Módulo en Desarrollo"}),e.jsx("p",{className:"text-gray-600",children:"El control de hospitalización estará disponible próximamente"})]})})]})]})]})}function se(){return e.jsx(Y,{})}export{se as default};
