import{k as m,u,r as a,j as e,S as g}from"./vendor-B5yQt2qK.js";import{B as x}from"./examenes-laboratorio-crud-BJk1fG4Z.js";function N(){const t=m(),n=u(),[i,o]=a.useState(null),l=new URLSearchParams(t.search),r=t.state?.pacienteId||l.get("paciente_id"),d=l.get("cobro_id"),[j,p]=a.useState([]);return a.useEffect(()=>{fetch(x+"api_tarifas.php",{credentials:"include"}).then(s=>s.json()).then(s=>{if(s.success&&Array.isArray(s.tarifas)){const h=["consulta","laboratorio","farmacia","ecografia","rayosx","ocupacional"],b=s.tarifas.filter(c=>c.activo===1&&!h.includes(c.servicio_tipo)).map(c=>({key:c.servicio_tipo+"_"+c.id,label:c.descripcion,tarifaId:c.id}));p(b)}})},[]),a.useEffect(()=>{r&&fetch(`${x}api_pacientes.php?id=${r}`).then(s=>s.json()).then(s=>{s.success&&s.paciente?o(s.paciente):o(null)})},[r]),e.jsx("div",{className:"min-h-screen bg-gray-50 p-6 md:p-12 lg:p-16 xl:p-20",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-400 rounded-t-xl p-8 mb-0",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ—‚ï¸"})," AtenciÃ³n en RecepciÃ³n"]}),e.jsx("p",{className:"text-white text-sm",children:"GestiÃ³n de pacientes y servicios"})]}),e.jsxs("div",{className:"bg-white rounded-b-xl shadow p-4",children:[e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded font-bold hover:bg-blue-600 mb-4",onClick:()=>n("/"),children:"Volver al Dashboard"}),i?e.jsxs("div",{className:"bg-blue-50 rounded p-4 mb-4",children:[e.jsx("div",{className:"font-bold text-blue-800 mb-2",children:"Paciente encontrado:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("b",{children:"Nombre:"})," ",i.nombre]}),e.jsxs("div",{children:[e.jsx("b",{children:"Apellido:"})," ",i.apellido]}),e.jsxs("div",{children:[e.jsx("b",{children:"DNI:"})," ",i.dni]}),e.jsxs("div",{children:[e.jsx("b",{children:"Fecha de nacimiento:"})," ",i.fecha_nacimiento]}),e.jsxs("div",{children:[e.jsx("b",{children:"Sexo:"})," ",i.sexo]}),e.jsxs("div",{children:[e.jsx("b",{children:"DirecciÃ³n:"})," ",i.direccion]}),e.jsxs("div",{children:[e.jsx("b",{children:"TelÃ©fono:"})," ",i.telefono]}),e.jsxs("div",{children:[e.jsx("b",{children:"Email:"})," ",i.email]}),e.jsxs("div",{children:[e.jsx("b",{children:"Tipo de seguro:"})," ",i.tipo_seguro]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("b",{children:"Historia ClÃ­nica:"})," ",i.historia_clinica]}),e.jsxs("div",{children:[e.jsx("b",{children:"Edad:"})," ",i.edad?i.edad+" aÃ±os":i.fecha_nacimiento?(()=>{const s=new Date(i.fecha_nacimiento);return isNaN(s)?"Edad no disponible":Math.floor((new Date-s)/(365.25*24*60*60*1e3))+" aÃ±os"})():"Edad no disponible"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Procedencia:"})," ",i.procedencia]})]})]})]}):e.jsx("div",{className:"text-center text-gray-500 mb-4",children:"Busca un paciente por DNI para mostrar los servicios."}),i&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-2",children:[e.jsxs("div",{className:"font-semibold text-blue-700 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ”½"})," Seleccionar Servicio para: ",e.jsxs("span",{className:"text-black",children:[i.nombre," ",i.apellido]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-blue-100 font-bold",onClick:()=>n(`/agendar-consulta${d?`?cobro_id=${d}`:""}`,{state:{pacienteId:i.id}}),children:"ğŸ‘¨â€âš•ï¸ Consulta MÃ©dica"}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-green-100 font-bold",onClick:()=>n(`/cotizar-laboratorio/${i.id}`),children:["ğŸ§ª Laboratorio ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-purple-100 font-bold",onClick:()=>n(`/cotizar-farmacia/${i.id}`),children:["ğŸ’Š Farmacia ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-blue-50 font-bold",onClick:()=>n(`/cotizar-rayosx/${i.id}`),children:["ğŸ©» Rayos X ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-blue-50 font-bold",onClick:()=>n(`/cotizar-ecografia/${i.id}`),children:["ğŸ©º EcografÃ­as ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-orange-100 font-bold",onClick:()=>n(`/cotizar-procedimientos/${i.id}`),children:["ğŸ› ï¸ Procedimientos ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-blue-100 font-bold",onClick:()=>n(`/cotizar-operacion/${i.id}`),children:["ğŸ©¼ Operaciones/CirugÃ­as Mayores ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]}),e.jsxs("button",{className:"flex items-center gap-2 justify-center border rounded-lg py-3 px-2 bg-white hover:bg-blue-50 font-bold",onClick:()=>{g.fire({title:"PÃ¡gina en construcciÃ³n",text:"La funcionalidad de Medicina Ocupacional estarÃ¡ disponible prÃ³ximamente.",icon:"info",confirmButtonText:"OK"})},children:["ğŸ‘¨â€âš•ï¸ Medicina Ocupacional ",e.jsx("span",{className:"text-yellow-500",children:"ğŸ’°"})]})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex gap-4 items-center",children:[e.jsx("span",{children:"ğŸ’° = Requiere pago previo"}),e.jsx("span",{children:"ğŸ“… = Agendar primero, cobrar despuÃ©s"})]})]})]})]})})}export{N as default};
