const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-B5yQt2qK.js","assets/examenes-laboratorio-crud-BJk1fG4Z.js","assets/vendor-DDKpoaqD.css"])))=>i.map(i=>d[i]);
import{r as u,j as e,e as R,l as F,m as O,E as I,d as q,u as K}from"./vendor-B5yQt2qK.js";import{B as S,_ as U}from"./examenes-laboratorio-crud-BJk1fG4Z.js";import{P as J}from"./PacienteListForm-CD51U7oR.js";function Q({initialBusqueda:t="",initialPage:o=1,initialRowsPerPage:d=5,initialFechaDesde:p="",initialFechaHasta:n=""}={}){const i=(g={})=>{m(!0);const a=new URLSearchParams({page:k,limit:C,busqueda:v.trim(),fecha_desde:g.fechaDesde||w,fecha_hasta:g.fechaHasta||E});fetch(`${S}api_pacientes.php?${a.toString()}`).then(b=>b.json()).then(b=>{b.success?(l(b.pacientes),j(b.total||0),y(b.totalPages||1)):r(b.error||"Error al cargar pacientes"),m(!1)}).catch(()=>{r("Error de conexión con el servidor"),m(!1)})},[h,l]=u.useState([]),[s,m]=u.useState(!1),[N,r]=u.useState(""),[k,M]=u.useState(o),[C,z]=u.useState(d),[W,j]=u.useState(0),[$,y]=u.useState(1),[v,_]=u.useState(t),[w,A]=u.useState(p),[E,D]=u.useState(n);return u.useEffect(()=>{m(!0);const g=new URLSearchParams({page:k,limit:C,busqueda:v.trim(),fecha_desde:w,fecha_hasta:E});fetch(`${S}api_pacientes.php?${g.toString()}`).then(a=>a.json()).then(a=>{a.success?(l(a.pacientes),j(a.total||0),y(a.totalPages||1)):r(a.error||"Error al cargar pacientes"),m(!1)}).catch(()=>{r("Error de conexión con el servidor"),m(!1)})},[k,C,v,w,E]),{pacientes:h,loading:s,error:N,page:k,setPage:M,rowsPerPage:C,setRowsPerPage:z,totalRows:W,totalPages:$,busqueda:v,setBusqueda:_,fechaDesde:w,setFechaDesde:A,fechaHasta:E,setFechaHasta:D,guardarPaciente:async g=>{m(!0),r("");let a;try{const c=await(await fetch(`${S}api_pacientes.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g),credentials:"include"})).json();c.success&&c.paciente?(l(x=>g.id?x.map(P=>P.id===c.paciente.id?c.paciente:P):x.find(P=>P.id===c.paciente.id)?x:[c.paciente,...x]),j(x=>x+(g.id?0:1)),a={success:!0,paciente:c.paciente}):(r(c.error||"Error al guardar paciente"),a={success:!1,error:c.error})}catch{r("Error de conexión con el servidor"),a={success:!1,error:"Error de conexión"}}return m(!1),a},eliminarPaciente:async g=>{m(!0);let a;try{const c=await(await fetch(`${S}api_pacientes.php`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g.id})})).json();c.success?(l(x=>x.filter(B=>B.id!==g.id)),j(x=>x-1),a={success:!0}):(c.error&&c.error.toLowerCase().includes("atenciones")?(U(()=>import("./vendor-B5yQt2qK.js").then(x=>x.U),__vite__mapDeps([0,1,2])).then(x=>{x.default.fire({icon:"warning",title:"No se puede eliminar",html:"<div style='font-size:1.1em'><b>El paciente tiene atenciones registradas.</b><br>No es posible eliminarlo por seguridad e integridad de datos.</div>",confirmButtonText:"Aceptar",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}),r("")):r(c.error||"Error al eliminar paciente"),a={success:!1,error:c.error})}catch{r("Error de conexión con el servidor"),a={success:!1,error:"Error de conexión"}}return m(!1),a},recargarPacientes:i}}function Y({onAgregar:t,totalRows:o}){return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("h1",{className:"text-2xl font-bold text-purple-800 flex items-center gap-2",children:[e.jsx("svg",{className:"w-7 h-7 text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Pacientes"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:t,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition-colors flex items-center justify-center gap-2 text-base sm:text-lg",style:{minWidth:"180px"},children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Paciente"]}),e.jsxs("span",{className:"text-gray-600 text-sm sm:ml-2",children:["Total: ",o]})]})]})}function G({busqueda:t,setBusqueda:o,fechaDesde:d,setFechaDesde:p,fechaHasta:n,setFechaHasta:i,rowsPerPage:h,setRowsPerPage:l}){return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:t,onChange:s=>{o(s.target.value)},placeholder:"Buscar por historia clínica, nombre, apellido o DNI",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),t&&e.jsx("button",{onClick:()=>{o("")},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por fecha de registro:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Desde"}),e.jsx("input",{type:"date",value:d,onChange:s=>p(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hasta"}),e.jsx("input",{type:"date",value:n,onChange:s=>i(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(d||n)&&e.jsx("button",{onClick:()=>{p(""),i("")},className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Limpiar filtros de fecha"})]}),e.jsxs("div",{className:"sm:w-48",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registros por página:"}),e.jsxs("select",{value:h,onChange:s=>l(Number(s.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:5,children:"5 registros"}),e.jsx("option",{value:10,children:"10 registros"}),e.jsx("option",{value:25,children:"25 registros"})]})]})]})]})}function X({pacientes:t,onEditar:o,onEliminar:d,onDescargarCaratula:p,onNavigate:n,sortBy:i,sortDir:h,handleSort:l,page:s,setPage:m,totalPages:N}){return e.jsxs("div",{className:"hidden lg:block overflow-x-auto w-full",children:[e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100",children:[e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("historia_clinica"),children:["HC ",i==="historia_clinica"?h==="asc"?"▲":"▼":""]}),e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("nombre"),children:["Nombre ",i==="nombre"?h==="asc"?"▲":"▼":""]}),e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("apellido"),children:["Apellido ",i==="apellido"?h==="asc"?"▲":"▼":""]}),e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("edad"),children:["Edad ",i==="edad"?h==="asc"?"▲":"▼":""]}),e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("dni"),children:["DNI ",i==="dni"?h==="asc"?"▲":"▼":""]}),e.jsxs("th",{className:"px-2 py-1 border cursor-pointer",onClick:()=>l("tipo_seguro"),children:["Tipo de seguro ",i==="tipo_seguro"?h==="asc"?"▲":"▼":""]}),e.jsx("th",{className:"px-2 py-1 border",children:"Acciones"})]})}),e.jsx("tbody",{children:(t||[]).map(r=>e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"border px-2 py-1",children:r.historia_clinica}),e.jsx("td",{className:"border px-2 py-1",children:r.nombre}),e.jsx("td",{className:"border px-2 py-1",children:r.apellido}),e.jsxs("td",{className:"border px-2 py-1",children:[r.edad!==null?r.edad:"-"," "]}),e.jsx("td",{className:"border px-2 py-1",children:r.dni}),e.jsx("td",{className:"border px-2 py-1",children:r.tipo_seguro||"-"}),e.jsx("td",{className:"border py-1",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o(r),className:"bg-yellow-400 text-white px-1 py-1 rounded text-xs hover:bg-yellow-500",children:"Editar"}),e.jsx("button",{onClick:()=>d(r),className:"bg-red-500 text-white px-1 py-1 rounded text-xs hover:bg-red-600",children:"Eliminar"}),e.jsx("button",{onClick:()=>n(`/seleccionar-servicio?paciente_id=${r.id}`),className:"bg-indigo-600 text-white px-1 py-1 rounded text-xs hover:bg-indigo-700",title:"Cotizar / seleccionar servicio",children:"Cotizar"}),e.jsx("button",{onClick:()=>n(`/consumo-paciente/${r.id}`),className:"bg-blue-600 text-white px-1 py-1 rounded text-xs hover:bg-blue-700",title:"Ver consumo total",children:"Consumo"}),e.jsx("button",{onClick:()=>p(r),className:"bg-purple-600 text-white px-1 py-1 rounded text-xs hover:bg-purple-700",title:"Descargar carátula",children:"Carátula"})]})})]},r.id))})]}),e.jsxs("div",{className:"flex justify-end items-center gap-2 mt-2 lg:flex",children:[e.jsx("button",{onClick:()=>m(s-1),disabled:s===1,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 font-semibold disabled:opacity-50",children:"Anterior"}),e.jsxs("span",{className:"font-semibold",children:["Página ",s," de ",N]}),e.jsx("button",{onClick:()=>m(s+1),disabled:s===N,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 font-semibold disabled:opacity-50",children:"Siguiente"})]})]})}function Z({pacientes:t,onEditar:o,onEliminar:d,onDescargarCaratula:p,onNavigate:n,page:i,setPage:h,totalPages:l}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-4",children:(t||[]).map(s=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-purple-800",children:["HC: ",s.historia_clinica]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["DNI: ",s.dni]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o(s),className:"bg-yellow-400 hover:bg-yellow-500 text-white p-2 rounded-full transition-colors",title:"Editar paciente",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>d(s),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors",title:"Eliminar paciente",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e.jsx("button",{onClick:()=>n(`/seleccionar-servicio?paciente_id=${s.id}`),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded-full transition-colors",title:"Cotizar / seleccionar servicio",children:e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"Q"})]})}),e.jsx("button",{onClick:()=>n(`/consumo-paciente/${s.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full transition-colors",title:"Ver consumo total",children:e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"C"})]})}),e.jsx("button",{onClick:()=>p(s),className:"bg-purple-600 hover:bg-purple-700 text-white p-2 rounded-full transition-colors",title:"Descargar carátula",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium text-blue-800",children:[s.nombre," ",s.apellido]}),e.jsx("span",{className:"text-sm bg-blue-100 px-2 py-1 rounded",children:s.edad!==null?`${s.edad} años`:"Edad no registrada"})]}),s.tipo_seguro&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:s.tipo_seguro})]}),(s.telefono||s.email)&&e.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[s.telefono&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.telefono]}),s.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.email]})]})]})]},s.id))}),e.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4 lg:hidden",children:[e.jsx("button",{onClick:()=>h(i-1),disabled:i===1,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 font-semibold disabled:opacity-50",children:"Anterior"}),e.jsxs("span",{className:"font-semibold",children:["Página ",i," de ",l]}),e.jsx("button",{onClick:()=>h(i+1),disabled:i===l,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 font-semibold disabled:opacity-50",children:"Siguiente"})]})]})}function ee({open:t,onClose:o,children:d}){return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-2 sm:p-6 w-full max-w-full sm:max-w-3xl md:max-w-4xl min-h-[60vh] flex flex-col justify-center relative",children:[e.jsx("button",{onClick:o,className:"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold","aria-label":"Cerrar",children:"×"}),e.jsx("div",{className:"w-full h-full flex flex-col justify-center",children:d})]})}):null}function se(t){if(!Array.isArray(t)||t.length===0)return;const o=R.json_to_sheet(t),d=R.book_new();R.book_append_sheet(d,o,"Pacientes");const p=F(d,{bookType:"xlsx",type:"array"}),n=new Blob([p],{type:"application/octet-stream"});O.saveAs(n,`pacientes_${new Date().toISOString().slice(0,10)}.xlsx`)}function te(t){if(!Array.isArray(t)||t.length===0)return;const o=new I;o.text("Pacientes",14,10),q(o,{columns:[{header:"Historia Clínica",dataKey:"historia_clinica"},{header:"Nombres",dataKey:"nombre"},{header:"Apellidos",dataKey:"apellido"},{header:"Edad",dataKey:"edad"},{header:"DNI",dataKey:"dni"}],body:t,startY:18,styles:{fontSize:9},headStyles:{fillColor:[59,130,246]}}),o.save(`pacientes_${new Date().toISOString().slice(0,10)}.pdf`)}function re(){const{pacientes:t,loading:o,error:d,page:p,setPage:n,rowsPerPage:i,setRowsPerPage:h,totalRows:l,totalPages:s,busqueda:m,setBusqueda:N,fechaDesde:r,setFechaDesde:k,fechaHasta:M,setFechaHasta:C,guardarPaciente:z,eliminarPaciente:W,recargarPacientes:j}=Q(),[$,y]=u.useState(!1),[v,_]=u.useState(null),w=K(),[A,E]=u.useState("id"),[D,H]=u.useState("desc"),T=f=>{A===f?H(D==="asc"?"desc":"asc"):(E(f),H("asc")),n(1)},g=()=>{_({id:void 0,dni:"",nombre:"",apellido:"",historia_clinica:"",fecha_nacimiento:"",edad:"",edad_unidad:"años",procedencia:"",tipo_seguro:"",sexo:"M",direccion:"",telefono:"",email:""}),y(!0)},a=f=>{_({...f}),y(!0)},b=()=>{y(!1),_(null),j()},c=async f=>{await W(f),j()},x=f=>{const V=`${S}descargar_caratula_paciente.php?paciente_id=${f.id}`,L=document.createElement("a");L.href=V,L.download=`caratula_${f.historia_clinica}.pdf`,document.body.appendChild(L),L.click(),document.body.removeChild(L)},B=()=>{se(t)},P=()=>{te(t)};return e.jsxs("div",{className:"p-4 bg-white rounded shadow",children:[e.jsx(Y,{onAgregar:g,totalRows:l}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 w-full",children:[e.jsxs("button",{onClick:B,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-bold flex items-center justify-center gap-2 text-base sm:text-lg",style:{minWidth:"160px"},children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 17l-4 4m0 0l-4-4m4 4V3"})}),"Exportar Excel"]}),e.jsxs("button",{onClick:P,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg shadow-lg font-bold flex items-center justify-center gap-2 text-base sm:text-lg",style:{minWidth:"160px"},children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19V6m0 0l-7 7m7-7l7 7"})}),"Exportar PDF"]})]}),e.jsx(G,{busqueda:m,setBusqueda:f=>{N(f),n(1)},rowsPerPage:i,setRowsPerPage:f=>{h(f),n(1)},fechaDesde:r,setFechaDesde:k,fechaHasta:M,setFechaHasta:C}),o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsxs("svg",{className:"animate-spin h-10 w-10 text-purple-700 mb-3",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-purple-700 font-semibold text-lg",children:"Cargando pacientes..."})]}):d?e.jsx("div",{className:"text-red-600",children:d}):e.jsxs(e.Fragment,{children:[e.jsx(X,{pacientes:t,onEditar:a,onEliminar:c,onDescargarCaratula:x,onNavigate:w,sortBy:A,sortDir:D,handleSort:T,page:p,setPage:n,totalPages:s}),e.jsx(Z,{pacientes:t,onEditar:a,onEliminar:c,onDescargarCaratula:x,onNavigate:w,page:p,setPage:n,totalPages:s})]}),e.jsx(ee,{open:$,onClose:()=>{y(!1),_(null)},editData:v,onRegistroExitoso:b,children:e.jsx(J,{initialData:v||{},onRegistroExitoso:b,guardarPaciente:z})})]})}function ne(){const[t]=u.useState([]);return e.jsx("div",{children:e.jsx(re,{pacientes:t})})}export{ne as default};
